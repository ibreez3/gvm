# GVM (Go Version Manager)

[![Build Status](https://github.com/ibreez3/gvm/actions/workflows/ci.yml/badge.svg)](https://github.com/ibreez3/gvm/actions)
[![Release](https://img.shields.io/github/v/release/ibreez3/gvm.svg)](https://github.com/ibreez3/gvm/releases)
[![License](https://img.shields.io/github/license/ibreez3/gvm.svg)](LICENSE)
[![Go Report Card](https://goreportcard.com/badge/github.com/ibreez3/gvm)](https://goreportcard.com/report/github.com/ibreez3/gvm)

**GVM** æ˜¯ä¸€ä¸ªè½»é‡çº§ã€è·¨å¹³å°çš„ Go è¯­è¨€ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œä½¿ç”¨ Go ç¼–å†™ã€‚å®ƒæ—¨åœ¨ç®€åŒ– Go å¼€å‘ç¯å¢ƒçš„æ­å»ºä¸å¤šç‰ˆæœ¬ç®¡ç†ï¼Œæ”¯æŒä¸€é”®å®‰è£…ã€åˆ‡æ¢ã€æœç´¢ Go ç‰ˆæœ¬ï¼Œå¹¶è‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡ã€‚

---

## âœ¨ ç‰¹æ€§ (Features)

- ğŸš€ **å¿«é€Ÿå®‰è£…**ï¼šæ”¯æŒä»å®˜æ–¹æº (`go.dev`) å¿«é€Ÿä¸‹è½½å¹¶å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Goã€‚
- ğŸ”„ **ç‰ˆæœ¬åˆ‡æ¢**ï¼šä¸€é”®åˆ‡æ¢å½“å‰ä½¿ç”¨çš„ Go ç‰ˆæœ¬ï¼ˆåŸºäºè½¯é“¾æ¥æœºåˆ¶ï¼‰ã€‚
- ğŸ“‹ **ç‰ˆæœ¬ç®¡ç†**ï¼šæŸ¥çœ‹æœ¬åœ°å·²å®‰è£…ç‰ˆæœ¬å’Œè¿œç¨‹å¯ç”¨ç‰ˆæœ¬ã€‚
- ğŸ” **æ™ºèƒ½æœç´¢**ï¼šå¿«é€Ÿæœç´¢å¯ç”¨çš„ Go ç‰ˆæœ¬ï¼ˆæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼‰ã€‚
- ğŸ›  **è‡ªåŠ¨é…ç½®**ï¼š`gvm init` è‡ªåŠ¨æ£€æµ‹ Shell (`zsh`/`bash`) å¹¶æ³¨å…¥ç¯å¢ƒå˜é‡ï¼Œå¼€ç®±å³ç”¨ã€‚
- ğŸ“¦ **å¤šå¹³å°æ”¯æŒ**ï¼šæ”¯æŒ macOS, Linux å’Œ Windows (éƒ¨åˆ†åŠŸèƒ½)ã€‚
- âš™ï¸ **è‡ªå®šä¹‰æº**ï¼šæ”¯æŒé…ç½®è‡ªå®šä¹‰ Go ä¸‹è½½æºï¼ˆé»˜è®¤ä» `go.dev/dl/` ä¸‹è½½ï¼‰ã€‚
- ğŸ†™ **æ™ºèƒ½å‡çº§**ï¼š`gvm upgrade` å¯å°†æŒ‡å®šæ¬¡ç‰ˆæœ¬å‡çº§åˆ°æœ€æ–°è¡¥ä¸ç‰ˆæœ¬ï¼ˆå¦‚ `go1.25.x`ï¼‰ã€‚
- ğŸ—‘ï¸ **æ‰¹é‡å¸è½½**ï¼šæ”¯æŒå¤šç§æ‰¹é‡å¸è½½æ¨¡å¼ï¼ˆæŒ‰ç‰ˆæœ¬èŒƒå›´ã€æ¨¡å¼åŒ¹é…ã€ä¿ç•™æœ€æ–° N ä¸ªç­‰ï¼‰ã€‚
- ğŸ”„ **è‡ªæ›´æ–°**ï¼š`gvm self-update` ä¸€é”®æ›´æ–° gvm åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

## ğŸ“¦ å®‰è£… (Installation)

### æ–¹å¼ä¸€ï¼šé€šè¿‡ Release å®‰è£…ï¼ˆæ¨èï¼‰

1. å‰å¾€ [Releases](https://github.com/ibreez3/gvm/releases) é¡µé¢ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å‹ç¼©åŒ…ã€‚
2. è§£å‹å¹¶èµ‹äºˆæ‰§è¡Œæƒé™ï¼š
   ```bash
   tar -zxvf gvm_Darwin_arm64.tar.gz
   chmod +x gvm
   mv gvm /usr/local/bin/ # æˆ–è€…å…¶ä»–åœ¨ PATH ä¸­çš„ç›®å½•
   ```
3. åˆå§‹åŒ–ç¯å¢ƒï¼š
   ```bash
   gvm init
   source ~/.zshrc # æˆ– source ~/.bashrc
   ```

### æ–¹å¼äºŒï¼šä»æºç æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ibreez3/gvm.git
cd gvm

# ç¼–è¯‘
go build

# åˆå§‹åŒ–
./gvm init
```

## ğŸš€ ä½¿ç”¨æŒ‡å— (Usage)

### åŸºç¡€å‘½ä»¤

```bash
# åˆå§‹åŒ–ç¯å¢ƒ (é¦–æ¬¡ä½¿ç”¨å¿…é€‰)
gvm init

# æŸ¥çœ‹å¸®åŠ©
gvm --help

# åˆ—å‡ºè¿œç¨‹å¯ç”¨ç‰ˆæœ¬
gvm list -r

# æœç´¢ç‰¹å®šç‰ˆæœ¬
gvm search 1.22

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
gvm install 1.22.5
# æˆ–è€…
gvm install go1.22.5

# æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…ç‰ˆæœ¬
gvm list

# åˆ‡æ¢ç‰ˆæœ¬
gvm use 1.22.5

# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
gvm current
```

### é«˜çº§å‘½ä»¤

#### ğŸ“ é…ç½®ç®¡ç†

```bash
# æŸ¥çœ‹å½“å‰é…ç½®
gvm config --show

# è®¾ç½®è‡ªå®šä¹‰ä¸‹è½½æº
gvm config --source "https://your-mirror.com/dl/"

# è®¾ç½® JSON API æº
gvm config --json-source "https://your-mirror.com/dl/?mode=json&include=all"

# é‡ç½®ä¸ºé»˜è®¤é…ç½®
gvm config --reset
```

#### ğŸ†™ ç‰ˆæœ¬å‡çº§

```bash
# å°† go1.25.x å‡çº§åˆ°æœ€æ–°çš„è¡¥ä¸ç‰ˆæœ¬
gvm upgrade 1.25

# å‡çº§åè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°ç‰ˆæœ¬
gvm upgrade 1.25 -u

# è‡ªåŠ¨ç¡®è®¤å‡çº§ï¼ˆæ— éœ€äº¤äº’ï¼‰
gvm upgrade 1.25 -y
```

#### ğŸ—‘ï¸ æ‰¹é‡å¸è½½

```bash
# å¸è½½å•ä¸ªç‰ˆæœ¬
gvm uninstall 1.21.0

# å¸è½½ä½äºæŸç‰ˆæœ¬çš„æ‰€æœ‰ç‰ˆæœ¬
gvm uninstall --below 1.22

# å¸è½½åŒ¹é…æ¨¡å¼çš„æ‰€æœ‰ç‰ˆæœ¬ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰
gvm uninstall --pattern "1.21.*"

# åªä¿ç•™æœ€æ–°çš„ N ä¸ªç‰ˆæœ¬
gvm uninstall --keep 2

# å¸è½½æ‰€æœ‰ç‰ˆæœ¬
gvm uninstall --all

# ä¸ä¿ç•™å½“å‰æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬
gvm uninstall --pattern "1.21.*" --keep-current=false
```

#### ğŸ”— å¤–éƒ¨é“¾æ¥

```bash
# é“¾æ¥å¤–éƒ¨ Go SDK åˆ° gvm ç®¡ç†
gvm link /usr/local/go
```

#### ğŸ”„ è‡ªæ›´æ–°

```bash
# æ£€æŸ¥ gvm æ›´æ–°ï¼ˆä¸å®‰è£…ï¼‰
gvm self-update --check

# æ›´æ–° gvm åˆ°æœ€æ–°ç‰ˆæœ¬
gvm self-update
```

## ğŸ“‚ ç›®å½•ç»“æ„ä¸åŸç†

GVM å°†æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ `$HOME/.gvm` ç›®å½•ä¸‹ï¼š

- **`~/.gvm/go<version>/`**: å­˜æ”¾å…·ä½“ç‰ˆæœ¬çš„ Go SDKã€‚
- **`~/.gvm/goroot`**: æŒ‡å‘å½“å‰æ¿€æ´»ç‰ˆæœ¬çš„è½¯é“¾æ¥ã€‚
- **`~/.gvm/.gvmrc`**: ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼ŒåŒ…å« `GOROOT`, `GOPATH`, `GOPROXY` ç­‰è®¾ç½®ã€‚
- **`~/.gvm/config.json`**: GVM é…ç½®æ–‡ä»¶ï¼ˆè‡ªå®šä¹‰ä¸‹è½½æºç­‰ï¼‰ã€‚

**Shell é›†æˆ**ï¼š
`gvm init` ä¼šè‡ªåŠ¨åœ¨ä½ çš„ `~/.zshrc` æˆ– `~/.bashrc` ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š

```bash
# gvm shell setup
if [ -f "$HOME/.gvm/.gvmrc" ]; then
    source "$HOME/.gvm/.gvmrc"
fi
```

## ğŸ“‹ æ›´æ–°æ—¥å¿— (Changelog)

### v0.2.0 (æœ€æ–°)

**æ–°å¢åŠŸèƒ½:**
- âœ¨ æ–°å¢ `gvm config` å‘½ä»¤ï¼Œæ”¯æŒè‡ªå®šä¹‰ Go ä¸‹è½½æº
- âœ¨ æ–°å¢ `gvm upgrade` å‘½ä»¤ï¼Œæ™ºèƒ½å‡çº§æ¬¡ç‰ˆæœ¬åˆ°æœ€æ–°è¡¥ä¸ç‰ˆæœ¬
- âœ¨ å¢å¼º `gvm uninstall` å‘½ä»¤ï¼Œæ”¯æŒæ‰¹é‡å¸è½½ï¼ˆ`--below`, `--pattern`, `--keep`, `--all`ï¼‰
- âœ¨ æ–°å¢ `gvm self-update` å‘½ä»¤ï¼Œæ”¯æŒ gvm è‡ªæ›´æ–°

**æ”¹è¿›:**
- ğŸ”§ é‡æ„é¡¹ç›®ç»“æ„ï¼Œ`main.go` ç§»è‡³æ ¹ç›®å½•ï¼Œ`cmd/gvm` æ”¹ä¸º `package gvm`
- ğŸ”§ ä¼˜åŒ–ç‰ˆæœ¬æ¯”è¾ƒé€»è¾‘ï¼Œæ”¯æŒç²¾ç¡®çš„ç‰ˆæœ¬å·æ¯”è¾ƒ
- ğŸ“ å®Œå–„ CLI å¸®åŠ©æ–‡æ¡£å’Œä¸­æ–‡æç¤º

**ä¿®å¤:**
- ğŸ› ä¿®å¤ `current.go` åŒ…åé”™è¯¯é—®é¢˜

### v0.1.0

- ğŸ‰ é¦–ä¸ªæ­£å¼å‘å¸ƒ
- âœ… æ”¯æŒå®‰è£…ã€å¸è½½ã€åˆ‡æ¢ Go ç‰ˆæœ¬
- âœ… æ”¯æŒæœç´¢å’Œåˆ—å‡ºå¯ç”¨ç‰ˆæœ¬
- âœ… æ”¯æŒé“¾æ¥å¤–éƒ¨ Go SDK
- âœ… è‡ªåŠ¨ç¯å¢ƒé…ç½®

## ğŸ›  å¼€å‘ä¸è´¡çŒ® (Development)

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼æœ¬é¡¹ç›®éµå¾ª Git Flow å·¥ä½œæµã€‚

### åˆ†æ”¯ç­–ç•¥

- **`main`**: ç¨³å®šå‘å¸ƒåˆ†æ”¯ã€‚ä»…æ¥å—æ¥è‡ª `develop` çš„åˆå¹¶ã€‚
- **`develop`**: ä¸»å¼€å‘åˆ†æ”¯ã€‚æ‰€æœ‰æ–°åŠŸèƒ½å’Œä¿®å¤éƒ½åº”åˆå¹¶åˆ°æ­¤åˆ†æ”¯ã€‚

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“å¹¶ Clone åˆ°æœ¬åœ°ã€‚
2. åŸºäº `develop` åˆ†æ”¯åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/my-feature develop`ã€‚
3. æäº¤ä»£ç å¹¶æ¨é€åˆ°ä½ çš„ Fork ä»“åº“ã€‚
4. æäº¤ Pull Request åˆ°æœ¬ä»“åº“çš„ `develop` åˆ†æ”¯ã€‚

### å‘å¸ƒæµç¨‹ (Release)

æœ¬é¡¹ç›®ä½¿ç”¨ GitHub Actions å’Œ GoReleaser å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒã€‚

- **è‡ªåŠ¨å‘å¸ƒ (Patch)**: å½“ `develop` åˆ†æ”¯åˆå¹¶åˆ° `main` æ—¶ï¼Œæµæ°´çº¿ä¼šè‡ªåŠ¨è®¡ç®—ä¸‹ä¸€ä¸ª Patch ç‰ˆæœ¬ï¼ˆå¦‚ `v1.0.0` -> `v1.0.1`ï¼‰ï¼Œæ‰“ Tag å¹¶å‘å¸ƒ Releaseã€‚
- **æ‰‹åŠ¨å‘å¸ƒ (Minor/Major)**: åœ¨ `main` åˆ†æ”¯ä¸‹è¿è¡Œ `make release`ï¼Œè„šæœ¬ä¼šå¼•å¯¼ä½ é€‰æ‹©ç‰ˆæœ¬ç±»å‹ï¼ˆPatch/Minor/Majorï¼‰ï¼Œå¹¶è‡ªåŠ¨æ‰“ Tag æ¨é€ã€‚

## ğŸ“„ è®¸å¯è¯ (License)

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ Go è¯­è¨€å›¢é˜Ÿæä¾›çš„å¼ºå¤§å·¥å…·é“¾å’Œæ ‡å‡†åº“ï¼Œä½¿å¾—å¼€å‘æ­¤ç±»å·¥å…·å˜å¾—ç®€å•é«˜æ•ˆã€‚
æ•°æ®æºæ¥è‡ªå®˜æ–¹ [go.dev/dl](https://go.dev/dl)ã€‚
